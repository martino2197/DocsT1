openapi: 3.0.0
info:
  title: T1pagos
  version:  1.10.15.150424
  description: >-
    La interfaz para programación de la aplicación (API) T1pagos está
    diseñada para integrar fácilmente la funcionalidad de pagos en cualquier
    sitio web. Está basada en arquitectura REST que utiliza el protocolo HTTP
    para proveer una interfaz uniforme, agnóstica a lenguajes de programación,
    orientado a recursos y con códigos de respuesta estandarizados.


    Todas las respuestas del API están en formato JSON y utiliza los códigos de
    respuesta del protocolo HTTP en los encabezados.


    El sistema utiliza dos ambientes: uno de sandbox y otro de producción, cada
    uno con diferentes llaves de acceso para evitar que peticiones destinadas a
    un ambiente se procesen en otro.
servers:
  - url: 'https://api.sandbox.claropagos.com/v1'
    description: Ambiente sandbox
  - url: 'https://api.claropagos.com/v1'
    description: Ambiente productivo
externalDocs:
  description: Detalles adicionales
  url: 'https://www.claropagos.com'
tags:
  - name: tarjeta
    description: Operaciones con tarjetas bancarias
  - name: cargo
    description: Operaciones de autorización y preautorización
  - name: cliente
    description: Operaciones con Clientes
  - name: plan
    description: Operaciones con Planes
  - name: suscripcion
    description: Operaciones con Suscripciones
  - name: notificacion
    description: Operaciones con Notificaciones y Eventos
  - name: conciliacion
    description: Consulta de procesos de conciliación
  - name: antifraude
    description: Servicio antifraude
  - name: cliente cuenta spei
    description: Operaciones para cuentas spei tipo cliente
  - name: deposito Sears - Sanborns
    description: Operaciones sears -sanborns
paths:
  /tarjeta:
    post:
      summary: Crear nueva tarjeta
      tags:
        - tarjeta
      requestBody:
        description: Crear nueva tarjeta
        content:
          application/json:
            schema:
              type: object
              required:
                - pan
                - cvv2
                - expiracion_mes
                - expiracion_anio
              properties:
                nombre:
                  description: Nombre como aparece en la tarjeta
                  type: string
                  minLength: 3
                  maxLength: 60
                pan:
                  description: Número de tarjeta
                  type: string
                  format: number
                  example: "4111111111111111"
                  minLength: 14
                  maxLength: 19
                cvv2:
                  description: 'Código de seguridad de la tarjeta cvv2, cvc'
                  type: string
                  format: number
                  example: "123"
                  minLength: 3
                  maxLength: 4
                expiracion_mes:
                  description: Mes de expiración
                  type: integer
                  minimum: 1
                  maximum: 12
                expiracion_anio:
                  description: Año de expiración
                  type: integer
                  minLength: 2
                  maxLength: 4
                  minimum: 0
                  maximum: 9999
                direccion:
                  $ref: '#/components/schemas/Direccion'
                cliente_id:
                  description: Id de cliente en plataforma T1pagos
                  type: string
                default:
                  description: >-
                    Determina si la tarjeta es la utilizada por dafault para el
                    cliente asignado
                  type: boolean
                cargo_unico:
                  description: >-
                    Determina si la tarjeta sólo se puede utilizar para un único
                    cargo
                  type: boolean
      responses:
        '200':
          description: Tarjeta creada
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      tarjeta:
                        $ref: '#/components/schemas/Tarjeta'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autenticado
          content:
            application/json:
              schema:
                $ref: '#/components/responses/UnauthorizedError'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    get:
      summary: Consultar listado de Tarjetas
      tags:
        - tarjeta
      parameters:
        - in: query
          name: registros_por_pagina
          schema:
            type: integer
            minimum: 5
            maximum: 100
            default: 25
          description: Máximo de registros a regresar
        - in: query
          name: pagina
          schema:
            type: integer
          description: Número de página
        - in: query
          name: ordenar_por
          schema:
            type: string
            enum:
              - actualizacion
              - cliente_id
              - creacion
              - iin
              - marca
              - nombre
              - pan
              - terminacion
              - token
          description: Valor que será usado como referencia en la búsqueda
        - in: query
          name: orden
          schema:
            type: string
            enum:
              - asc
              - desc
          description: Podrá ser de orden Ascendente (asc) o Descendente (desc)
      responses:
        '200':
          description: Listado de objetos tipo Tarjetas
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      tarjetas:
                        description: Arreglo de objetos tipo Cliente
                        type: object
                        properties:
                          data:
                            type: array
                            items:
                              $ref: '#/components/schemas/Tarjeta'
                          desde:
                            type: integer
                            description: Índice de inicio
                          hasta:
                            type: integer
                            description: Índice de fin
                          registros_por_pagina:
                            type: integer
                            description: Número de registros por página
                            minimum: 5
                            maximum: 100
                            default: 10
                          pagina_actual:
                            type: integer
                            description: Página actual de registros
                            minimum: 1
                          ultima_pagina:
                            type: integer
                            description: Número de última página
                            minimum: 1
                          total_pagina:
                            type: integer
                            description: Total de registros
                            minimum: 0
                          total:
                            type: integer
                            description: Total de registros
                            minimum: 0
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/tarjeta/{token}':
    get:
      summary: Consultar tarjeta
      tags:
        - tarjeta
      parameters:
        - in: path
          name: token
          schema:
            type: string
          required: true
          description: Identificador de tarjeta
      responses:
        '200':
          description: Tarjeta encontrada
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      tarjeta:
                        $ref: '#/components/schemas/Tarjeta'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      summary: Actualiza datos de tarjeta
      tags:
        - tarjeta
      parameters:
        - in: path
          name: token
          schema:
            type: string
          required: true
          description: Identificador de tarjeta
      requestBody:
        description: Actualizar Tarjeta
        content:
          application/json:
            schema:
              type: object
              properties:
                nombre:
                  description: Nombre como aparece en la tarjeta
                  type: string
                  minLength: 3
                  maxLength: 60
                expiracion_mes:
                  description: Mes de expiración
                  type: integer
                  minLength: 1
                  maxLength: 12
                expiracion_anio:
                  description: Año de expiración
                  type: integer
                cvv2:
                  description: 'Código de seguridad de la tarjeta cvv2, cvc'
                  type: string
                  format: number
                  example: "123"
                  minLength: 3
                  maxLength: 4
                direccion:
                  $ref: '#/components/schemas/Direccion'
                cliente_id:
                  description: Id de cliente en plataforma T1pagos
                  type: string
                default:
                  description: >-
                    Determina si la tarjeta es la utilizada por dafault para el
                    cliente asignado
                  type: boolean
      responses:
        '200':
          description: Tarjeta actualizada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      tarjeta:
                        $ref: '#/components/schemas/Tarjeta'
        '401':
          description: No autenticado
          content:
            application/json:
              schema:
                $ref: '#/components/responses/UnauthorizedError'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Borrar tarjeta
      tags:
        - tarjeta
      parameters:
        - in: path
          name: token
          schema:
            type: string
          required: true
          description: Identificador de tarjeta
      responses:
        '200':
          description: Tarjeta borrada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación de la tarjeta
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      tarjeta:
                        type: object
                        properties:
                          token:
                            type: string
                            format: uuid
                            description: Token de Tarjeta
                          borrada:
                            type: string
                            format: date-time
                            description: Fecha y hora de eliminación de la tarjeta
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /cargo:
    post:
      summary: Crear nuevo cargo
      tags:
        - cargo
      requestBody:
        description: Crear nuevo cargo
        content:
          application/json:
            schema:
              type: object
              required:
                - monto
              properties:
                monto:
                  description: Monto de la transacción
                  type: number
                  minimum: 1.00
                  maximum: 999999999999999
                  example: "100.00"
                pais:
                  type: string
                  minLength: 3
                  maxLength: 3
                  default: "MEX"
                  description: >-
                    Identificador de país de tres caracteres
                  example: MEX
                moneda:
                  type: string
                  minLength: 3
                  maxLength: 3
                  description: >-
                    Identificador de moneda de tres caracteres de acuerdo al estándar ISO 4217
                  default: MXN
                  example: MXN
                descripcion:
                  description: Descripción breve de la transacción
                  type: string
                  minLength: 0
                  maxLength: 250
                capturar:
                  description: Permite hacer sólo la autorización de un cargo sin capturar
                  type: boolean
                  default: true
                incluir_riesgo:
                  description: Permite obtener una respuesta extendida del análisis de riesgo
                  type: boolean
                metodo_pago:
                  type: string
                  description: >-
                    Define el tipo de pago que será usado en la transacción, en
                    cargos con tarjeta bancaria deberá ser ('tarjeta'),
                    cargos con transferencia bancaria deberá ser ('transferencia')
                    cargos con crédito claro shop deberá ser ('credito')
                  default: tarjeta
                  enum:
                    - tarjeta
                    - credito
                    - transferencia
                tarjeta:
                  description: Objeto tarjeta, requerido si metodo_pago = tarjeta
                  type: object
                  required:
                    - token
                  properties:
                    token:
                      description: Token de tarjeta obtenido del servicio de tarjeta
                      type: string
                credito:
                  description: Objeto credito, requerido si metodo_pago = credito
                  type: object
                  required:
                    - formato
                  properties:
                    formato:
                      description: Tipo de crédito
                      type: string
                      enum:
                        - claroshop
                    sucursal:
                      description: 'Número de sucursal'
                      type: integer
                transferencia:
                  description: Objeto transferencia, requerido si metodo_pago = transferencia
                  type: object
                  required:
                    - formato
                  properties:
                    formato:
                      description: Formato del tipo de transferencia.
                      type: string
                    concepto:
                      description: Concepto de la transferencia.
                      type: string
                    fecha_inicio:
                      description: Fecha y hora de inicio de la vigencia de la referencia
                      type: string
                      format: date-time
                    fecha_fin:
                      description: Fecha y hora de vigencia de la vigencia de la referencia
                      type: string
                      format: date-time
                pedido:
                  $ref: '#/components/schemas/Pedido'
                cliente:
                  type: object
                  required:
                    - email
                  properties:
                    id:
                      description: >-
                        Id de cliente previamente registrado en T1pagos, si se incluye el id, podrán omitirse todos los demás datos del objeto cliente
                      type: string
                    id_externo:
                      description: >-
                        Identificador único de cliente en plataforma del
                        comercio
                      type: string
                    creacion_externa:
                      description: Fecha y hora de creación del usuario en el comercio
                      type: string
                      format: date-time
                    nombre:
                      description: Nombre o nombres del cliente
                      type: string
                    apellido_paterno:
                      description: Apellido paterno del cliente
                      type: string
                    apellido_materno:
                      description: Apellido materno del cliente
                      type: string
                    email:
                      description: Correo electrónico del cliente
                      type: string
                      format: email
                      example: usuario@t1pagos.com
                    telefono:
                      $ref: '#/components/schemas/Telefono'
                    direccion:
                      $ref: '#/components/schemas/Direccion'
                PlanPagos:
                  $ref: '#/components/schemas/PlanPagos'
      responses:
        '200':
          description: Cargo exitoso
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 409
                      - 412
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      cargo:
                        type: object
                        properties:
                          id:
                            type: string
                            description: Identificador de la transacción
                          monto:
                            type: number
                            description: Monto de la transacción
                          autorizacion_id:
                            type: string
                            description: >-
                              Identificador de autorización del procesador de
                              pago
                          tipo:
                            description: Tipo de transacción (“cargo”)
                            type: string
                            enum:
                              - cargo
                              - credito
                          capturado:
                            description: Indica si la transacción esta capturada
                            type: boolean
                            example: false
                          conciliado:
                            description: Indica si la transacción esta conciliada
                            type: boolean
                            example: false
                          monto_capturado:
                            type: number
                            description: Monto de capturado de la transaccion
                          monto_reembolsado:
                            type: number
                            description: Monto de reembolsado de la transaccion
                          fecha_conciliacion:
                            description: Fecha y hora de la conciliacion
                            type: string
                            format: date-time
                          fecha:
                            description: Fecha y hora de creación de la transacción
                            type: string
                            format: date-time
                          orden_id:
                            description: Identificador del orden del comercio
                            type: string
                          cliente_id:
                            description: Identificador de cliente del comercio
                            type: string
                          estatus:
                            description: Estatus de la transacción
                            type: string
                            enum:
                              - completada
                              - rechazada
                              - pendiente
                          codigo:
                            description: Código de procesamiento de acuerdo al catálogo de errores de procesamiento.
                            type: string
                          descripcion:
                            description: Descripción del código obtenido al procesar el cargo.
                            type: string
                          riesgo:
                            $ref: '#/components/schemas/Riesgo'
                          tarjeta:
                            $ref: '#/components/schemas/Tarjeta'
                          cliente:
                            $ref: '#/components/schemas/Cliente'
                          procesador:
                            $ref: '#/components/schemas/Procesador'
                          prueba:
                            description: Indica si la transacción es una prueba
                            type: boolean
                            example: true
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Recurso duplicado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '412':
          description: Error por precondicion
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/cargo/{cargo_id}':
    get:
      summary: Consultar un cargo
      tags:
        - cargo
      parameters:
        - in: path
          name: cargo_id
          schema:
            type: string
          required: true
          description: Identificador de operación
      responses:
        '200':
          description: Cargo exitoso
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      cargo:
                        type: object
                        properties:
                          id:
                            type: string
                            description: Identificador de la transacción
                          monto:
                            type: number
                            description: Monto de la transacción
                          autorizacion_id:
                            type: string
                            description: >-
                              Identificador de autorización del procesador de
                              pago
                          tipo:
                            description: Tipo de transacción (“cargo”)
                            type: string
                            enum:
                              - cargo
                          capturado:
                            description: Indica si la transacción esta capturada
                            type: boolean
                            example: false
                          conciliado:
                            description: Indica si la transacción esta conciliada
                            type: boolean
                            example: false
                          monto_capturado:
                            type: number
                            description: Monto de capturado de la transaccion
                          monto_reembolsado:
                            type: number
                            description: Monto de reembolsado de la transaccion
                          fecha_conciliacion:
                            description: Fecha y hora de la conciliacion
                            type: string
                            format: date-time
                          fecha:
                            description: Fecha y hora de creación de la transacción
                            type: string
                            format: date-time
                          orden_id:
                            description: Identificador del orden del comercio
                            type: string
                          cliente_id:
                            description: Identificador de cliente del comercio
                            type: string
                          estatus:
                            description: Estatus de la transacción
                            type: string
                            enum:
                              - completada
                              - rechazada
                              - pendiente
                          codigo:
                            description: Código de procesamiento de acuerdo al catálogo de errores de procesamiento.
                            type: string
                          descripcion:
                            description: Descripción del código obtenido al procesar el cargo.
                            type: string
                          tarjeta:
                            $ref: '#/components/schemas/Tarjeta'
                          cliente:
                            $ref: '#/components/schemas/Cliente'
                          procesador:
                            $ref: '#/components/schemas/Procesador'
                          prueba:
                            description: Indica si la transacción es una prueba
                            type: boolean
                            example: true
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/cargo/{cargo_id}/cancelar':
    post:
      summary: Cancelar un cargo antes del final del día.
      tags:
        - cargo
      parameters:
        - in: path
          name: cargo_id
          schema:
            type: string
          required: true
          description: Identificador de transacción de cargo
      requestBody:
        description: Cancelar un cargo
        content:
          application/json:
            schema:
              type: object
              required:
                - monto
              properties:
                monto:
                  description: Monto de la transacción
                  type: number
                  minimum: 0
                orden_id:
                  description: Identificador de orden del comercio
                  type: string
                cliente_id:
                  description: Identificador de cliente del comercio
                  type: string
      responses:
        '200':
          description: Cancelación de cargo exitosa
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      cancelacion:
                        type: object
                        properties:
                          id:
                            type: string
                            description: Identificador de la transacción
                          monto:
                            description: Monto de la transacción
                            type: number
                          cargo:
                            type: string
                            description: Identificador de cargo del procesador de pago
                          autorizacion_id:
                            type: string
                            description: >-
                              Identificador de autorización del procesador de
                              pago
                          tipo:
                            description: Tipo de transacción (“cancelacion”)
                            type: string
                            enum:
                              - cancelacion
                          orden_id:
                            description: Identificador de orden del comercio
                            type: string
                          cliente_id:
                            description: Identificador de cliente del comercio
                            type: string
                          estatus:
                            description: Estatus de la transacción
                            type: string
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Recurso duplicado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '412':
          description: Error por precondicion
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/cargo/{cargo_id}/reembolsar':
    post:
      summary: Reembolso de una transacción
      tags:
        - cargo
      parameters:
        - in: path
          name: cargo_id
          schema:
            type: string
          required: true
          description: Identificador de transacción de cargo
      requestBody:
        description: Reembolsar una transacción
        content:
          application/json:
            schema:
              type: object
              required:
                - cargo_id
                - monto
              properties:
                monto:
                  description: Monto de la transacción
                  type: number
                  minimum: 0
                orden_id:
                  description: Identificador de orden del comercio
                  type: string
                cliente_id:
                  description: Identificador de cliente del comercio
                  type: string
      responses:
        '200':
          description: Reembolso exitoso
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      reembolso:
                        type: object
                        properties:
                          id:
                            type: string
                            description: Identificador de la transacción
                          monto:
                            description: Monto de la transacción
                            type: number
                          cargo_id:
                            type: string
                            description: Identificador de cargo del procesador de pago
                          autorizacion_id:
                            description: >-
                              Identificador de autorización del procesador de
                              pago
                            type: string
                          tipo:
                            description: Tipo de transacción (“reembolso”)
                            type: string
                            enum:
                              - reembolso
                              - cancelacion
                          orden_id:
                            description: Identificador de orden del comercio
                            type: string
                          cliente_id:
                            description: Identificador de cliente del comercio
                            type: string
                          estatus:
                            description: Estatus de la transacción
                            type: string
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Recurso duplicado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '412':
          description: Error por precondicion
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/cargo/{cargo_id}/capturar':
    post:
      summary: Captura de una transacción
      tags:
        - cargo
      parameters:
        - in: path
          name: cargo_id
          schema:
            type: string
          required: true
          description: Identificador de transacción de cargo
      requestBody:
        description: Capturar una transacción
        content:
          application/json:
            schema:
              type: object
              required:
                - cargo_id
                - monto
              properties:
                monto:
                  description: Monto de la transacción
                  type: number
                  minimum: 1
      responses:
        '200':
          description: Captura exitosa
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 409
                      - 412
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de la ejecucion de la captura
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      captura:
                        type: object
                        properties:
                          id:
                            type: string
                            description: Identificador de la captura
                          monto:
                            description: Monto de la captura
                            type: number
                          cargo_id:
                            type: string
                            description: Identificador de cargo del procesador de pago
                          autorizacion_id:
                            description: >-
                              Identificador de autorización del procesador de
                              pago
                            type: string
                          tipo:
                            description: Tipo de transacción (“captura”)
                            type: string
                            enum:
                              - captura
                          orden_id:
                            description: Identificador de orden del comercio
                            type: string
                          estatus:
                            description: Estatus de la transacción
                            type: string
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '409':
          description: Recurso duplicado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '412':
          description: Error por precondicion
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /cliente:
    post:
      summary: Crear un Cliente
      tags:
        - cliente
      responses:
        '200':
          description: Cliente creado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      cliente:
                        $ref: '#/components/schemas/Cliente'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      requestBody:
        description: Crear nuevo cliente
        content:
          application/json:
            schema:
              type: object
              required:
                - id_externo
                - email
              properties:
                id_externo:
                  description: >-
                    Identificador de cliente en plataforma del comercio, NO es recomendable usar un email como identificador único ya que un cliente podrá cambiar su correo, en caso de que un cliente actualice su correo, podrá editarse el correo electrónico del cliente. El id_externo no podrá editarse una vez creado el cliente.
                  type: string
                nombre:
                  description: Nombre o nombres del cliente
                  type: string
                apellido_paterno:
                  description: Apellido paterno del cliente
                  type: string
                apellido_materno:
                  description: Apellido materno del cliente
                  type: string
                sexo:
                  description: Sexo del cliente (masculino/femenino)
                  type: string
                email:
                  description: email del cliente
                  type: string
                  format: email
                telefono:
                  $ref: '#/components/schemas/Telefono'
                nacimiento:
                  description: Fecha de nacimiento
                  type: string
                  format: date-time
                direccion:
                  $ref: '#/components/schemas/Direccion'
                creacion_externa:
                  description: Fecha y hora de creación del usuario en el comercio
                  type: string
                  format: date-time
                device_fingerprint:
                  description: Id de dispositivo de cliente
                  type: string
    get:
      summary: Consultar listado de Clientes
      tags:
        - cliente
      parameters:
        - in: query
          name: registros_por_pagina
          schema:
            type: integer
            minimum: 5
            maximum: 100
            default: 25
          description: Máximo de registros a regresar
        - in: query
          name: pagina
          schema:
            type: integer
          description: Número de página
        - in: query
          name: ordenar_por
          schema:
            type: string
            enum:
              - actualizacion
              - apellido_materno
              - apellido_paterno
              - creacion
              - email
              - estado
              - id
              - nacimiento
              - nombre
              - sexo
          description: >-
            Valor que será usado como referencia en la búsqueda, podrá ser
            "creacion" o "email"
        - in: query
          name: orden
          schema:
            type: string
            enum:
              - asc
              - desc
          description: Podrá ser de orden Ascendente (asc) o Descendente (desc)
      responses:
        '200':
          description: Listado de objetos tipo Cliente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      clientes:
                        description: Arreglo de objetos tipo Cliente
                        type: object
                        properties:
                          data:
                            type: array
                            items:
                              $ref: '#/components/schemas/Cliente'
                          desde:
                            type: integer
                            description: Índice de inicio
                          hasta:
                            type: integer
                            description: Índice de fin
                          registros_por_pagina:
                            type: integer
                            description: Número de registros por página
                            minimum: 5
                            maximum: 100
                            default: 10
                          pagina_actual:
                            type: integer
                            description: Página actual de registros
                            minimum: 1
                          ultima_pagina:
                            type: integer
                            description: Número de última página
                            minimum: 1
                          total_pagina:
                            type: integer
                            description: Total de registros
                            minimum: 0
                          total:
                            type: integer
                            description: Total de registros
                            minimum: 0
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/cliente/id_externo/{id_externo}':
    get:
      summary: Consultar un cliente por Id de cliente en comercio
      tags:
        - cliente
      parameters:
        - in: path
          name: id_externo
          schema:
            type: string
          required: true
          description: Id de cliente en comercio
      responses:
        '200':
          description: Cliente encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      cliente:
                        $ref: '#/components/schemas/ClienteConSuscripcion'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/cliente/{cliente_id}':
    get:
      summary: Consultar un Cliente
      tags:
        - cliente
      parameters:
        - in: path
          name: cliente_id
          schema:
            type: string
          required: true
          description: Identificador de Cliente
      responses:
        '200':
          description: Cliente encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      cliente:
                        $ref: '#/components/schemas/ClienteConSuscripcion'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      summary: Actualizar Cliente
      tags:
        - cliente
      parameters:
        - in: path
          name: cliente_id
          schema:
            type: string
          required: true
          description: Identificador de Cliente
      requestBody:
        description: Actualizar Cliente
        content:
          application/json:
            schema:
              type: object
              properties:
                nombre:
                  description: Nombre o nombres del cliente
                  type: string
                apellido_paterno:
                  description: Apellido paterno del cliente
                  type: string
                apellido_materno:
                  description: Apellido materno del cliente
                  type: string
                sexo:
                  description: Sexo del cliente
                  type: string
                  enum:
                    - masculino
                    - femenino
                email:
                  description: Correo electrónico del cliente
                  type: string
                  format: email
                  example: usuario@t1pagos.com
                telefono:
                  $ref: '#/components/schemas/Telefono'
                nacimiento:
                  type: string
                  format: date-time
                  description: Fecha de nacimiento
                direccion:
                  $ref: '#/components/schemas/Direccion'
                device_fingerprint:
                  description: Id de dispositivo de cliente
                  type: string
                estado:
                  description: Estado del Cliente
                  type: string
                  enum:
                    - activo
                    - inactivo
                    - suspendido
      responses:
        '200':
          description: Cliente actualizado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      cliente:
                        $ref: '#/components/schemas/Cliente'
        '401':
          description: No autenticado
          content:
            application/json:
              schema:
                $ref: '#/components/responses/UnauthorizedError'
    delete:
      summary: Borrar el registro de un Cliente
      tags:
        - cliente
      parameters:
        - in: path
          name: cliente_id
          schema:
            type: string
          required: true
          description: Identificador de Cliente
      responses:
        '200':
          description: Elimina un registro de cliente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      cliente:
                        type: object
                        properties:
                          id:
                            type: string
                            format: uuid
                          eliminacion:
                            type: string
                            format: date-time
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/cliente/{cliente_id}/suscripcion':
    get:
      summary: Consultar Suscripciones de Cliente
      tags:
        - cliente
      parameters:
        - in: path
          name: cliente_id
          schema:
            type: string
          required: true
          description: Identificador de Cliente
        - in: query
          name: registros_por_pagina
          schema:
            type: integer
            minimum: 5
            maximum: 100
            default: 25
          description: Máximo de registros a regresar
        - in: query
          name: pagina
          schema:
            type: integer
          description: Número de página
        - in: query
          name: ordenar_por
          schema:
            type: string
            enum:
              - creacion
              - estado
              - plan_id
              - inicio_suscripcion
          description: >-
            Valor que será usado como referencia en la búsqueda, podrá ser:
            creacion, nombre, estado, puede_suscribir
        - in: query
          name: orden
          schema:
            type: string
            enum:
              - asc
              - desc
          description: Podrá ser de orden Ascendente (asc) o Descendente (desc)
      responses:
        '200':
          description: Listado de objetos tipo Suscripción
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      suscripciones:
                        type: object
                        properties:
                          data:
                            type: array
                            items:
                              $ref: '#/components/schemas/Suscripcion'
                          desde:
                            type: integer
                            description: Índice de inicio
                          hasta:
                            type: integer
                            description: Índice de fin
                          registros_por_pagina:
                            type: integer
                            description: Número de registros por página
                            minimum: 5
                            maximum: 100
                            default: 25
                          pagina_actual:
                            type: integer
                            description: Página actual de registros
                            minimum: 1
                          ultima_pagina:
                            type: integer
                            description: Número de última página
                            minimum: 1
                          total_pagina:
                            type: integer
                            description: Total de registros en la página actual
                            minimum: 0
                          total:
                            type: integer
                            description: Total de registros
                            minimum: 0
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/cliente/{cliente_id}/tarjeta':
    get:
      summary: Consultar Tarjetas Asociadas a Cliente
      tags:
        - cliente
      parameters:
        - in: path
          name: cliente_id
          schema:
            type: string
          required: true
          description: Identificador de Cliente
        - in: query
          name: registros_por_pagina
          schema:
            type: integer
            minimum: 5
            maximum: 100
            default: 25
          description: Máximo de registros a regresar
        - in: query
          name: pagina
          schema:
            type: integer
          description: Número de página
        - in: query
          name: ordenar_por
          schema:
            type: string
            enum:
              - creacion
              - marca
              - cliente_id
          description: >-
            Valor que será usado como referencia en la búsqueda, podrá ser:
            creacion, nombre, estado, puede_suscribir
        - in: query
          name: orden
          schema:
            type: string
            enum:
              - asc
              - desc
          description: Podrá ser de orden Ascendente (asc) o Descendente (desc)
      responses:
        '200':
          description: Listado de objetos tipo Tarjeta
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      tarjetas:
                        type: object
                        properties:
                          data:
                            type: array
                            items:
                              $ref: '#/components/schemas/Tarjeta'
                          desde:
                            type: integer
                            description: Índice de inici
                          hasta:
                            type: integer
                            description: Índice de fin
                          registros_por_pagina:
                            type: integer
                            description: Número de registros por página
                            minimum: 5
                            maximum: 100
                            default: 10
                          pagina_actual:
                            type: integer
                            description: Página actual de registros
                            minimum: 1
                          ultima_pagina:
                            type: integer
                            description: Número de última página
                            minimum: 1
                          total_pagina:
                            type: integer
                            description: Total de registros en la página actual
                            minimum: 0
                          total:
                            type: integer
                            description: Total de registros
                            minimum: 0
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/cliente/email/{email}':
    get:
      summary: Consultar un cliente por correo electrónico
      tags:
        - cliente
      parameters:
        - in: path
          name: email
          schema:
            type: string
            format: email
          required: true
          description: Correo electrónico
      responses:
        '200':
          description: Cliente encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      cliente:
                        $ref: '#/components/schemas/Cliente'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/cliente/{cliente_id}/cuenta':
    post:
      summary: Crear una cuenta para cliente SPEI
      tags:
        - cliente cuenta spei
      parameters:
        - in: path
          name: cliente_id
          schema:
            type: string
            format: uuid
          required: true
          description: Identificador de Cliente
      responses:
        '200':
          description: Cuenta spei creada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      cliente:
                        $ref: '#/components/schemas/CuentaSpei'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      requestBody:
        description: Crear cuenta spei de cliente
        content:
          application/json:
            schema:
              type: object
              required:
                - pais
                - moneda
                - monto_minimo
                - monto_maximo
                - dias_expiracion
                - antifraude
              properties:
                pais:
                  description: País la transacción de acuerdo al estándar ISO 3166-1 Alpha-3, con tres letras para representar el país.
                  type: string
                  minLength: 3
                  maxLength: 3
                  example: "MEX"
                moneda:
                  type: string
                  minLength: 3
                  maxLength: 3
                  description: >-
                    Identificador de país de tres caracteres de acuerdo al
                    estándar ISO 4217
                  example: MXN
                monto_minimo:
                  type: number
                  example: 1
                  minimum: 0
                monto_maximo:
                  type: number
                  example: 1000
                  minimum: 1
                dias_expiracion:
                  type: integer
                  example: 1
                  minimum: 1
                antifraude:
                  type: boolean
    get:
      summary: Consultar listado de cuenta cliente
      tags:
        - cliente cuenta spei
      parameters:
        - in: path
          name: cliente_id
          schema:
            type: string
          required: true
          description: Identificador de Cliente
      responses:
        '200':
          description: Listado de objetos tipo cuenta Cliente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      cuenta:
                        description: Arreglo de objetos tipo Cliente
                        type: object
                        properties:
                          id:
                            description: Identificador único de cliente
                            type: string
                            format: uuid
                            readOnly: true
                          creacion:
                            description: Fecha de creación del objeto
                            type: string
                            format: date-time
                            readOnly: true
                          moneda:
                            type: string
                            minLength: 3
                            maxLength: 3
                            description: >-
                              Identificador de moneda de tres caracteres de acuerdo al estándar ISO
                              4217
                            example: MXN
                          cuenta:
                            type: string
                            example: '646180123400000023'
                          monto_minimo:
                            type: number
                            example: 1
                          monto_maximo:
                            type: number
                            example: 1000
                          pais:
                            description: País la transacción de acuerdo al estándar ISO 3166-1 Alpha-3, con tres letras para representar el país.
                            type: string
                            minLength: 3
                            maxLength: 3
                            example: "MEX"
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/cliente/{cliente_id}/depositos':
    get:
      summary: Consultar depositos de Cliente
      tags:
        - cliente cuenta spei
      parameters:
        - in: path
          name: cliente_id
          schema:
            type: string
          required: true
          description: Identificador de Cliente
        - in: query
          name: registros_por_pagina
          schema:
            type: integer
            minimum: 5
            maximum: 100
            default: 25
          description: Máximo de registros a regresar
        - in: query
          name: pagina
          schema:
            type: integer
          description: Número de página
        - in: query
          name: ordenar_por
          schema:
            type: string
            enum:
              - creacion
              - estado
          description: >-
            Valor que será usado como referencia en la búsqueda, podrá ser:
            creacion, estado
        - in: query
          name: orden
          schema:
            type: string
            enum:
              - asc
              - desc
          description: Podrá ser de orden Ascendente (asc) o Descendente (desc)
      responses:
        '200':
          description: Listado de objetos tipo cuenta Cliente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      depositos:
                        type: object
                        properties:
                          data:
                            type: array
                            items:
                              $ref: '#/components/schemas/Deposito'
                          desde:
                            type: integer
                            description: Índice de inicio
                          hasta:
                            type: integer
                            description: Índice de fin
                          registros_por_pagina:
                            type: integer
                            description: Número de registros por página
                            minimum: 5
                            maximum: 100
                            default: 25
                          pagina_actual:
                            type: integer
                            description: Página actual de registros
                            minimum: 1
                          ultima_pagina:
                            type: integer
                            description: Número de última página
                            minimum: 1
                          total_pagina:
                            type: integer
                            description: Total de registros en la página actual
                            minimum: 0
                          total:
                            type: integer
                            description: Total de registros
                            minimum: 0
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /plan:
    post:
      summary: Crear Plan de Suscripcion
      tags:
        - plan
      requestBody:
        description: Crear Plan
        content:
          application/json:
            schema:
              type: object
              required:
                - monto
                - moneda
                - frecuencia
                - tipo_periodo
                - id_externo
              properties:
                nombre:
                  type: string
                  description: Nombre de Plan
                id_externo:
                  description: Identificador único de Plan en plataforma del comercio
                  type: string
                monto:
                  type: number
                  description: Monto que será cobrado en la suscripción
                  minimum: 0
                  maximum: 999999999999999.99
                  example: 129.99
                  exclusiveMinimum: true
                  exclusiveMaximum: true
                monto_variable:
                  description: Determina si podrán crearse suscripciones con montos variables
                  type: boolean
                  default: false
                monto_minimo:
                  type: number
                  example: "0.00"
                  default: "0.00"
                  description: Monto máximo para suscripcioones con monto variable
                monto_maximo:
                  type: number
                  format: float
                  example: "0.00"
                  default: "0.00"
                  description: Monto mínimo para suscripcioones con monto variable
                pais:
                  type: string
                  minLength: 3
                  maxLength: 3
                  default: "MEX"
                  description: >-
                    Identificador de país de tres caracteres
                  example: MEX
                moneda:
                  type: string
                  minLength: 3
                  maxLength: 3
                  description: >-
                    Identificador de moneda de tres caracteres de acuerdo al estándar ISO 4217
                  example: MXN
                frecuencia:
                  type: integer
                  minimum: 1
                  description: >-
                    Determina cuantas veces debe repetirse el tipo de periodo
                    para que se realice el siguiente cobro
                tipo_periodo:
                  description: 'Puede ser "dia", "semana", "mes", o "anio"'
                  type: string
                  enum:
                    - dia
                    - semana
                    - mes
                    - anio
                max_reintentos:
                  type: integer
                  minimum: 0
                  default: 3
                  maximum: 10
                  description: >-
                    Máximo de reintentos (uno por día) que serán realizados
                    antes de cancelar una suscripción, en el caso por defecto se
                    realizarán 3 reintentos, será posible realizar un máximo de
                    10 reintentos
                prueba_frecuencia:
                  type: integer
                  minimum: 1
                  description: >-
                    Determina cuantas veces debe repetirse el tipo de periodo
                    para que se designe el día de primer cobro (al término del
                    periodo de prueba)
                prueba_tipo_periodo:
                  description: 'Puede ser "dia", "semana", "mes", o "anio"'
                  type: string
                  enum:
                    - dia
                    - semana
                    - mes
                    - anio
                puede_duplicar:
                  description: Determina si podrán crearse múltiples suscripciones a un mismo plan por un mismo cliente
                  type: boolean
                  default: false
                max_suscripcion_usuario:
                  description: Determina el número máximo de suscripciones, por usuario, a un mismo plan cuándo la bandera `puede_duplicar` está activa
                  type: integer
                  default: 1
      responses:
        '200':
          description: Plan creado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      plan:
                        $ref: '#/components/schemas/Plan'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    get:
      summary: Consultar listado de Planes
      tags:
        - plan
      parameters:
        - in: query
          name: registros_por_pagina
          schema:
            type: integer
          description: Máximo de registros a regresar
        - in: query
          name: pagina
          schema:
            type: integer
          description: Número de página
        - in: query
          name: ordenar_por
          schema:
            type: string
            enum:
              - actualizacion
              - creacion
              - estado
              - frecuencia
              - id
              - monto
              - nombre
              - puede_suscribir
              - tipo_periodo
          description: Valor que será usado como referencia en la búsqueda
        - in: query
          name: orden
          schema:
            type: string
            enum:
              - asc
              - desc
          description: Podrá ser de orden Ascendente (asc) o Descendente (desc)
      responses:
        '200':
          description: Listado de objetos tipo Plan
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      planes:
                        type: object
                        properties:
                          data:
                            type: array
                            items:
                              $ref: '#/components/schemas/Plan'
                          desde:
                            type: integer
                            description: Índice de inicio
                          hasta:
                            type: integer
                            description: Índice de fin
                          registros_por_pagina:
                            type: integer
                            description: Número de registros por página
                            minimum: 5
                            maximum: 100
                            default: 25
                          pagina_actual:
                            type: integer
                            description: Página actual de registros
                            minimum: 1
                          ultima_pagina:
                            type: integer
                            description: Número de última página
                            minimum: 1
                          total_pagina:
                            type: integer
                            description: Total de registros en la página actual
                            minimum: 0
                          total:
                            type: integer
                            description: Total de registros
                            minimum: 0
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/plan/{plan_id}':
    get:
      summary: Consultar un Plan
      tags:
        - plan
      parameters:
        - in: path
          name: plan_id
          schema:
            type: string
          required: true
          description: Identificador de Plan
      responses:
        '200':
          description: Objeto tipo Plan
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      plan:
                        $ref: '#/components/schemas/Plan'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      summary: Actualizar Plan
      tags:
        - plan
      parameters:
        - in: path
          name: plan_id
          schema:
            type: string
          required: true
          description: Identificador de Plan
      requestBody:
        description: Actualizar Plan
        content:
          application/json:
            schema:
              type: object
              properties:
                nombre:
                  type: string
                  description: Nombre de Plan
                monto:
                  type: number
                  description: Monto que será cobrado en la suscripción
                monto_variable:
                  description: Determina si podrán crearse suscripciones con montos variables
                  type: boolean
                  default: false
                monto_minimo:
                  type: number
                  example: "0.00"
                  default: "0.00"
                  description: Monto máximo para suscripcioones con monto variable
                monto_maximo:
                  type: number
                  format: float
                  example: "0.00"
                  default: "0.00"
                  description: Monto mínimo para suscripcioones con monto variable
                frecuencia:
                  type: integer
                  minimum: 1
                  description: >-
                    Determina cuantas veces debe repetirse el tipo de periodo
                    para que se realice el siguiente cobro
                tipo_periodo:
                  description: 'Puede ser "dia", "semana", "mes", o "anio"'
                  type: string
                  enum:
                    - dia
                    - semana
                    - mes
                    - anio
                max_reintentos:
                  type: integer
                  minimum: 0
                  maximum: 10
                  description: >-
                    Máximo de reintentos (uno por día) que serán realizados
                    antes de cancelar una suscripción, en el caso por defecto se
                    realizarán 3 reintentos, será posible realizar un máximo de
                    10 reintentos
                estado:
                  type: string
                  description: Estado del plan ('activo' / 'inactivo')
                  enum:
                    - activo
                    - inactivo
                puede_suscribir:
                  type: boolean
                  description: Determina si podrán crearse nuevas suscripciones en un plan
                prueba_frecuencia:
                  type: integer
                  minimum: 1
                  description: >-
                    Determina cuantas veces debe repetirse el tipo de periodo
                    para que se designe el día de primer cobro (al término del
                    periodo de prueba)
                prueba_tipo_periodo:
                  description: 'Puede ser "dia", "semana", "mes", o "anio"'
                  type: string
                  enum:
                    - dia
                    - semana
                    - mes
                    - anio
                puede_duplicar:
                  description: Determina si podrán crearse múltiples suscripciones a un mismo plan por un mismo cliente
                  type: boolean
                  default: false
                max_suscripcion_usuario:
                  description: Determina el número máximo de suscripciones, por usuario, a un mismo plan cuándo la bandera `puede_duplicar` está activa
                  type: integer
                  default: 1
      responses:
        '200':
          description: Plan actualizado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      plan:
                        $ref: '#/components/schemas/Plan'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Borrar el plan
      tags:
        - plan
      parameters:
        - in: path
          name: plan_id
          schema:
            type: string
          required: true
          description: Identificador de plan
      responses:
        '200':
          description: Elimina plan
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de operación
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      plan:
                        type: object
                        properties:
                          id:
                            type: string
                            format: uuid
                          eliminacion:
                            type: string
                            format: date-time
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/plan/id_externo/{id_externo}':
    get:
      summary: Consultar un Plan por medio de id_externo
      tags:
        - plan
      parameters:
        - in: path
          name: id_externo
          schema:
            type: string
          required: true
          description: Identificador único de Plan en plataforma del comercio
      responses:
        '200':
          description: Objeto tipo Plan
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      plan:
                        $ref: '#/components/schemas/Plan'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/plan/{plan_id}/suscripcion':
    get:
      summary: Muestra lista de suscripciones al plan
      tags:
        - plan
      parameters:
        - in: path
          name: plan_id
          schema:
            type: string
          required: true
          description: Identificador de Plan
        - in: query
          name: registros_por_pagina
          schema:
            type: integer
            minimum: 5
            maximum: 100
            default: 25
          description: Máximo de registros a regresar
        - in: query
          name: pagina
          schema:
            type: integer
          description: Número de página
        - in: query
          name: ordenar_por
          schema:
            type: string
            enum:
              - creacion
              - cliente_id
          description: >-
            Valor que será usado como referencia en la búsqueda, podrá ser:
            creacion, nombre, estado, puede_suscribir
        - in: query
          name: orden
          schema:
            type: string
            enum:
              - asc
              - desc
          description: Podrá ser de orden Ascendente (asc) o Descendente (desc)
      responses:
        '200':
          description: Listado de objetos tipo Suscripción
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      suscripciones:
                        type: object
                        properties:
                          data:
                            type: array
                            items:
                              $ref: '#/components/schemas/Suscripcion'
                          desde:
                            type: integer
                            description: Índice de inicio
                          hasta:
                            type: integer
                            description: Índice de fin
                          registros_por_pagina:
                            type: integer
                            description: Número de registros por página
                            minimum: 5
                            maximum: 100
                            default: 25
                          pagina_actual:
                            type: integer
                            description: Página actual de registros
                            minimum: 1
                          ultima_pagina:
                            type: integer
                            description: Número de última página
                            minimum: 1
                          total_pagina:
                            type: integer
                            description: Total de registros en la página actual
                            minimum: 0
                          total:
                            type: integer
                            description: Total de registros
                            minimum: 0
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/plan/{plan_id}/suscripcion/cancelar':
    get:
      summary: Cancelar usuarios suscritos a plan
      tags:
        - plan
      parameters:
        - in: path
          name: plan_id
          schema:
            type: string
          required: true
          description: Identificador de Plan
      responses:
        '200':
          description: >-
            Arreglo de objetos con suscripcion_id y cliente_id de las
            suscripciones canceladas
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      suscripciones:
                        type: array
                        items:
                          type: object
                          properties:
                            suscripcion_id:
                              description: Id de suscripción cancelada
                              type: string
                            cliente_id:
                              description: Id de cliente suscrito a plan
                              type: string
                            estado:
                              description: Estado final de la suscripción
                              type: string
                            actualizado:
                              type: string
                              format: date-time
                              description: Fecha y hora de la cancelación
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/plan/{plan_id}/cancelar':
    get:
      summary: Cancelar Plan
      tags:
        - plan
      parameters:
        - in: path
          name: plan_id
          schema:
            type: string
          required: true
          description: Identificador de Plan
      responses:
        '200':
          description: Plan cancelado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      plan:
                        $ref: '#/components/schemas/Plan'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /suscripcion:
    post:
      summary: Crear Suscripción
      tags:
        - suscripcion
      requestBody:
        description: Crear Suscripción
        content:
          application/json:
            schema:
              type: object
              required:
                - plan_id
                - cliente_id
                - metodo_pago
                - metodo_pago_token
              properties:
                plan_id:
                  type: string
                  description: Id del plan al que será suscrito el usuario
                cliente_id:
                  type: string
                  description: >-
                    Id de cliente (Objeto Cliente->id) en plataforma T1pagos
                    que será suscrito
                monto:
                  type: number
                  example: 129.99
                  description: Monto que será cobrado en la suscripción, en caso de que la suscripción sea a un plan con monto variable
                metodo_pago:
                  type: string
                  description: >-
                    Define el tipo de pago que será usado en la suscripción, en
                    cargos con tarjeta bancaria deberá ser ('tarjeta')
                  enum:
                    - tarjeta
                metodo_pago_token:
                  type: string
                  description: >-
                    Token de método de pago seleccionado, en el caso de tarjeta
                    se esperaría que el valor de "token_tarjeta" sea verificado
                    antes de activar la suscripción
                inicio:
                  type: string
                  description: >-
                    Fecha de registro de suscripción en el Comercio, indica una
                    fecha pasada que servirá como ancla, a partir de esa fecha
                    (pasada) se realizará el cálculo de las siguientes fechas de
                    renovación
                  format: date-time
      responses:
        '200':
          description: Suscripción creada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      suscripcion:
                        $ref: '#/components/schemas/Suscripcion'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    get:
      summary: Consultar listado de Suscripciones
      tags:
        - suscripcion
      parameters:
        - in: query
          name: registros_por_pagina
          schema:
            type: integer
          description: Máximo de registros a regresar
        - in: query
          name: pagina
          schema:
            type: integer
          description: Para realizar búsquedas filtrando por un rango de fechas
        - in: query
          name: ordenar_por
          schema:
            type: string
            enum:
              - actualizacion
              - cliente_id
              - creacion
              - estado
              - fecha_proximo_cargo
              - fin
              - inicio
              - metodo_pago
              - metodo_pago_token
              - periodo_fecha_fin
              - periodo_fecha_inicio
              - plan_id
              - prueba_fin
              - prueba_inicio
          description: Valor que será usado como referencia en la búsqueda
        - in: query
          name: orden
          schema:
            type: string
            enum:
              - asc
              - desc
          description: Podrá ser de orden Ascendente (asc) o Descendente (desc)
      responses:
        '200':
          description: Listado de objetos tipo Suscripcion
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      suscripciones:
                        type: object
                        properties:
                          data:
                            type: array
                            items:
                              $ref: '#/components/schemas/Suscripcion'
                          desde:
                            type: integer
                            description: Índice de inicio
                          hasta:
                            type: integer
                            description: Índice de fin
                          registros_por_pagina:
                            type: integer
                            description: Número de registros por página
                            minimum: 5
                            maximum: 100
                            default: 25
                          pagina_actual:
                            type: integer
                            description: Página actual de registros
                            minimum: 1
                          ultima_pagina:
                            type: integer
                            description: Número de última página
                            minimum: 1
                          total_pagina:
                            type: integer
                            description: Total de registros en la página actual
                            minimum: 0
                          total:
                            type: integer
                            description: Total de registros
                            minimum: 0
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/suscripcion/{suscripcion_id}':
    get:
      summary: Consultar una Suscripción
      tags:
        - suscripcion
      parameters:
        - in: path
          name: suscripcion_id
          schema:
            type: string
          required: true
          description: Identificador de Suscripcion
      responses:
        '200':
          description: Objeto tipo Suscripción
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      suscripcion:
                        $ref: '#/components/schemas/Suscripcion'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      summary: Actualizar Suscripcion
      tags:
        - suscripcion
      parameters:
        - in: path
          name: suscripcion_id
          schema:
            type: string
          required: true
          description: Identificador de Suscripcion
      requestBody:
        description: Actualizar Suscripcion
        content:
          application/json:
            schema:
              type: object
              properties:
                metodo_pago:
                  type: string
                  description: >-
                    Define el tipo de pago que será usado en la suscripción, en
                    cargos con tarjeta bancaria deberá ser ('tarjeta')
                  enum:
                    - tarjeta
                metodo_pago_token:
                  type: string
                  description: >-
                    Token de método de pago seleccionado, en el caso de tarjeta
                    se esperaría que el valor de "token_tarjeta" sea verificado
                    antes de activar la suscripción
                estado:
                  type: string
                  description: >-
                    Estado de la suscripción (prueba, activa, pendiente,
                    suspendida, cancelada) de acuerdo al catálogo de estados de
                    una suscripción"
                  enum:
                    - prueba
                    - activa
                    - pendiente
                    - suspendida
                    - cancelada
      responses:
        '200':
          description: Suscripción actualizada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      suscripcion:
                        $ref: '#/components/schemas/Suscripcion'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/suscripcion/{suscripcion_id}/cancelar':
    get:
      summary: Cancelar Suscripción
      tags:
        - suscripcion
      parameters:
        - in: path
          name: suscripcion_id
          schema:
            type: string
          required: true
          description: Identificador de Suscripcion
      responses:
        '200':
          description: Suscripción cancelada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      suscripcion:
                        $ref: '#/components/schemas/Suscripcion'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /notificacion:
    get:
      summary: >-
        Consultar listado de Eventos generados en el sistema en las últimas 48 horas
      tags:
        - notificacion
      parameters:
        - in: query
          name: registros_por_pagina
          schema:
            type: integer
            minimum: 5
            maximum: 100
          description: Máximo de registros a regresar
        - in: query
          name: pagina
          schema:
            type: integer
          description: Número de página
        - in: query
          name: ordenar_por
          schema:
            type: string
            enum:
              - creacion
              - id
          description: Valor que será usado como referencia en la búsqueda
        - in: query
          name: orden
          schema:
            type: string
            enum:
              - asc
              - desc
          description: Podrá ser de orden Ascendente (asc) o Descendente (desc)
      responses:
        '200':
          description: Listado de objetos tipo Evento
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      eventos:
                        type: object
                        properties:
                          data:
                            type: array
                            items:
                              $ref: '#/components/schemas/Evento'
                          desde:
                            type: integer
                            description: Índice de inicio
                          hasta:
                            type: integer
                            description: Índice de fin
                          registros_por_pagina:
                            type: integer
                            description: Número de registros por página
                            minimum: 5
                            maximum: 100
                            default: 25
                          pagina_actual:
                            type: integer
                            description: Página actual de registros
                            minimum: 1
                          ultima_pagina:
                            type: integer
                            description: Número de última página
                            minimum: 1
                          total_pagina:
                            type: integer
                            description: Total de registros en la página actual
                            minimum: 0
                          total:
                            type: integer
                            description: Total de registros
                            minimum: 0
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /conciliacion:
    get:
      summary: Consultar listado de operaciones y su estado de conciliación
      tags:
        - conciliacion
      parameters:
        - in: query
          name: registros_por_pagina
          schema:
            type: integer
            minimum: 5
            maximum: 500
            default: 25
          description: Máximo de registros a regresar
        - in: query
          name: pagina
          schema:
            type: integer
          description: Número de página
        - in: query
          name: orden
          schema:
            type: string
            default: asc
            enum:
              - asc
              - desc
          description: Podrá ser de orden Ascendente (asc) o Descendente (desc
        - in: query
          name: estatus_conciliacion
          description: Estado de conciliación
          schema:
            type: string
            enum:
              - "false"
              - "true"
        - in: query
          name: dia_conciliacion
          description: Día que operación fue conciliada
          schema:
            type: string
            format: date
            example: "2020-02-02"
        - in: query
          name: fecha_inicio
          description: Rango de fin de consulta, en formato YYYY-MM-DD HH:MM:SS, máximo 30 días
          schema:
            type: string
            format: date-time
            example: "2020-04-01 12:00:00"
        - in: query
          name: fecha_fin
          description: Rango de fin de consulta, en formato YYYY-MM-DD HH:MM:SS, máximo 30 días
          schema:
            type: string
            format: date-time
            example: "2020-04-02 12:00:00"
      responses:
        '200':
          description: Listado de transacciones
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      transacciones:
                        description: Arreglo de objetos tipo transaccion-conciliación
                        type: object
                        properties:
                          data:
                            type: array
                            items:
                              $ref: '#/components/schemas/transaccion-conciliacion'
                          desde:
                            type: integer
                            description: Índice de inicio
                          hasta:
                            type: integer
                            description: Índice de fin
                          registros_por_pagina:
                            type: integer
                            description: Número de registros por página
                            minimum: 5
                            maximum: 100
                            default: 10
                          pagina_actual:
                            type: integer
                            description: Página actual de registros
                            minimum: 1
                          ultima_pagina:
                            type: integer
                            description: Número de última página
                            minimum: 1
                          total_pagina:
                            type: integer
                            description: Total de registros
                            minimum: 0
                          total:
                            type: integer
                            description: Total de registros
                            minimum: 0
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/conciliacion/{cargo_id}':
    get:
      summary: Consultar detalle de conciliación de transacción
      tags:
        - conciliacion
      parameters:
        - in: path
          name: cargo_id
          schema:
            type: string
            format: uuid
            example: "ef79007c-b47a-4816-b787-2d0c90d91a86"
          required: true
          description: Identificador de la transacción
      responses:
        '200':
          description: Detalle de conciliación de transacción
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      transaccion:
                        $ref: '#/components/schemas/transaccion-conciliacion'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/conciliacion/{order_id}/pedido':
    get:
      summary: Consultar detalle de conciliación usando el id de pedido
      tags:
        - conciliacion
      parameters:
        - in: path
          name: order_id
          schema:
            type: string
            example: "pedido_ejemplo"
          required: true
          description: Identificador del pedido
      responses:
        '200':
          description: Detalle de conciliación de transacción
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      transaccion:
                        $ref: '#/components/schemas/transaccion-conciliacion'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /antifraude:
    post:
      summary: Evaluacion antifraude
      tags:
        - antifraude
      requestBody:
        description: Ejecutar evaluacion antifraude
        content:
          application/json:
            schema:
              type: object
              required:
                - monto
                - metodo_pago
                - cliente
                - pedido
              properties:
                monto:
                  description: Monto de la transacción
                  type: number
                  minimum: 0
                  maximum: 999999999999999
                pais:
                  description: País la transacción de acuerdo al estándar ISO 3166-1 Alpha-3, con tres letras para representar el país.
                  type: string
                  minLength: 3
                  maxLength: 3
                  example: "MEX"
                moneda:
                  description: Identificador de moneda de tres caracteres de acuerdo al estándar ISO 4217
                  type: string
                  minLength: 3
                  maxLength: 3
                descripcion:
                  description: Descripción breve de la transacción
                  type: string
                  minLength: 0
                  maxLength: 250
                metodo_pago:
                  type: string
                  description: >-
                    Define el tipo de pago que será usado en la operacion
                  default: tarjeta
                  enum:
                    - tarjeta
                tarjeta:
                  description: Objeto tarjeta, requerido si metodo_pago = tarjeta
                  type: object
                  required:
                    - nombre
                    - pan
                    - expiracion_mes
                    - expiracion_anio
                  properties:
                    nombre:
                      description: Nombre como aparece en la tarjeta
                      type: string
                      minLength: 3
                      maxLength: 60
                    pan:
                      description: Número de tarjeta
                      type: string
                      format: number
                      example: "4111111111111111"
                      minLength: 14
                      maxLength: 19
                    expiracion_mes:
                      description: Mes de expiración
                      type: integer
                      minimum: 1
                      maximum: 12
                    expiracion_anio:
                      description: Año de expiración
                      type: integer
                      minLength: 2
                      maxLength: 4
                      minimum: 2000
                      maximum: 2100
                    direccion:
                      $ref: '#/components/schemas/Direccion'
                pedido:
                  $ref: '#/components/schemas/Pedido'
                cliente:
                  type: object
                  required:
                    - email
                    - id_externo
                  properties:
                    id:
                      description: >-
                        Id de cliente previamente registrado en T1pagos, si se incluye el id, podrán omitirse todos los demás datos del objeto cliente
                      type: string
                      maxLength: 64
                    id_externo:
                      description: >-
                        Identificador único de cliente en plataforma del
                        comercio
                      type: string
                      maxLength: 64
                    creacion_externa:
                      description: Fecha y hora de creación del usuario en el comercio
                      type: string
                      format: date-time
                    nombre:
                      description: Nombre o nombres del cliente
                      type: string
                      minLength: 3
                      maxLength: 30
                    apellido_paterno:
                      description: Apellido paterno del cliente
                      type: string
                      minLength: 3
                      maxLength: 30
                    apellido_materno:
                      description: Apellido materno del cliente
                      type: string
                      minLength: 3
                      maxLength: 30
                    email:
                      description: Correo electrónico del cliente
                      type: string
                      format: email
                      example: usuario@t1pagos.com
                      maxLength: 250
                    telefono:
                      $ref: '#/components/schemas/Telefono'
                    direccion:
                      $ref: '#/components/schemas/Direccion'
                PlanPagos:
                  $ref: '#/components/schemas/PlanPagos'
      responses:
        '200':
          description: Evaluacion exitosa
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de la ejecucion
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      evaluacion:
                        $ref: '#/components/schemas/EvaluacionExtendida'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    get:
      summary: Consultar listado de evaluaciones
      tags:
        - antifraude
      parameters:
        - in: query
          name: registros_por_pagina
          schema:
            type: integer
            minimum: 5
            maximum: 100
            default: 25
          description: Máximo de registros a regresar
        - in: query
          name: pagina
          schema:
            type: integer
          description: Número de página
        - in: query
          name: ordenar_por
          schema:
            type: string
            enum:
              - actualizacion
              - creacion
          description: Valor que será usado como referencia en la búsqueda
        - in: query
          name: orden
          schema:
            type: string
            enum:
              - asc
              - desc
          description: Podrá ser de orden Ascendente (asc) o Descendente (desc)
      responses:
        '200':
          description: Listado de objetos tipo evaluacion
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de la evaluacion
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      evaluaciones:
                        description: Arreglo de objetos tipo Evaluación
                        type: object
                        properties:
                          data:
                            type: array
                            description: Arreglo de Objetos resultado
                            items:
                              $ref: '#/components/schemas/Evaluacion'
                          desde:
                            type: integer
                            description: Índice de inicio
                          hasta:
                            type: integer
                            description: Índice de fin
                          registros_por_pagina:
                            type: integer
                            description: Número de registros por página
                            minimum: 5
                            maximum: 100
                            default: 10
                          pagina_actual:
                            type: integer
                            description: Página actual de registros
                            minimum: 1
                          ultima_pagina:
                            type: integer
                            description: Número de última página
                            minimum: 1
                          total_pagina:
                            type: integer
                            description: Total de registros
                            minimum: 0
                          total:
                            type: integer
                            description: Total de registros
                            minimum: 0
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/antifraude/{uuid}':
    get:
      summary: Consultar evaluación
      tags:
        - antifraude
      parameters:
        - in: path
          name: uuid
          schema:
            type: string
          required: true
          description: Identificador de operación
      responses:
        '200':
          description: Operación encontrada
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      evaluacion:
                        $ref: '#/components/schemas/EvaluacionExtendida'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/tienda/{id_referencia}/':
    get:
      summary: Validar referencia de depósito
      tags:
        - "deposito Sears - Sanborns"
      parameters:
        - in: path
          name: id_referencia
          schema:
            type: string
          required: true
          description: Referencia de depósito
      responses:
        '200':
          description: Estatus de referencia
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      referencia:
                        $ref: '#/components/schemas/ReferenciaTienda'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/tienda/{id_referencia}/abonar':
    post:
      summary: Registar un pago a una referencia
      tags:
        - "deposito Sears - Sanborns"
      parameters:
        - in: path
          name: id_referencia
          schema:
            type: string
          required: true
          description: Referencia de depósito
      requestBody:
        description: Actualizar estatus de pago de referencia
        content:
          application/json:
            schema:
              type: object
              properties:
                monto:
                  description: Monto que fue pagado, debe de coincidir con el monto de la referencia
                  type: number
                  minimum: 1.00
                  maximum: 999999999999999.99
                  example: "100.00"
                moneda:
                  type: string
                  minLength: 3
                  maxLength: 3
                  description: Identificador de moneda de tres caracteres de acuerdo al estándar ISO 4217
                  default: MXN
                  example: MXN
                pago_id:
                  type: string
                  minLength: 1
                  maxLength: 40
                  description: Identificador único de pago
                fecha_pago:
                  type: string
                  description: Fecha de creación del objeto
                  format: date-time
                forma_pago:
                  description: Indica el método con los que se realizó el pago
                  type: string
                  example: "efectivo"
                  enum:
                  - "efectivo"
                  - "tarjeta"
                  - "tarjeta-departamental"
                sucursal_id:
                  type: string
                  minLength: 1
                  maxLength: 40
                  description: Identificador de sucursal de pago
                nombre_sucursal:
                  type: string
                  minLength: 1
                  maxLength: 100
                  description: Nombre de sucursal donde se realizó el pago
      responses:
        '200':
          description: Referencia actualizada correctamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      referencia:
                        $ref: '#/components/schemas/ReferenciaTienda'
        '401':
          description: No autenticado
          content:
            application/json:
              schema:
                $ref: '#/components/responses/UnauthorizedError'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  '/tienda/{id_referencia}/cancelar':
    post:
      summary: Cancelar un pago a una referencia
      tags:
        - "deposito Sears - Sanborns"
      parameters:
        - in: path
          name: id_referencia
          schema:
            type: string
          required: true
          description: Referencia de depósito
      requestBody:
        description: Actualizar estatus de pago de referencia
        content:
          application/json:
            schema:
              type: object
              properties:
                pago_id:
                  type: string
                  minLength: 1
                  maxLength: 40
                  description: Identificador único de pago
                sucursal_id:
                  type: string
                  minLength: 1
                  maxLength: 40
                  description: Identificador de sucursal de pago
      responses:
        '200':
          description: Referencia actualizada correctamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación del plan
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      referencia:
                        $ref: '#/components/schemas/ReferenciaTienda'
        '401':
          description: No autenticado
          content:
            application/json:
              schema:
                $ref: '#/components/responses/UnauthorizedError'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /recarga:
    post:
      summary: Crear Recarga
      tags:
        - recarga
      requestBody:
        description: Crear Recarga
        content:
          application/json:
            schema:
              type: object
              required:
                - monto
                - telefono
                - metodo_pago
                - metodo_pago_token
                - tipo
              properties:
                cliente_id:
                  type: string
                  description: >-
                    Id de cliente en plataforma T1pagos, este parámetro es opcional
                monto:
                  type: number
                  example: 129.99
                  description: Monto que será cobrado en la recarga, en caso de tiempo aire este monto es validado.
                telefono:
                  $ref: '#/components/schemas/Telefono'
                metodo_pago:
                  type: string
                  description: >-
                    Define el tipo de pago que será usado en la recarga, en
                    cargos con tarjeta bancaria deberá ser ('tarjeta')
                  enum:
                    - tarjeta
                metodo_pago_token:
                  type: string
                  description: >-
                    Token de método de pago seleccionado,
                    se esperaría que el valor de "token_tarjeta" sea verificado
                    antes de realizar la recarga
                tipo:
                  type: string
                  description: >-
                    Define el tipo de recarga que será usada.
                  enum:
                    - paquete
                    - tiempo_aire
                tipo_paquete:
                  type: string
                  description: >-
                    Define el tipo de paquete que se aplicará, este paramétro es obligatorio cuando el tipo de recarga es paquete.
                  example: "DS750"

      responses:
        '200':
          description: Recarga exitosa
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación de la recarga
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      recarga:
                        $ref: '#/components/schemas/Recarga'
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    get:
      summary: Consultar listado de Recargas
      tags:
        - recarga
      parameters:
        - in: query
          name: registros_por_pagina
          schema:
            type: integer
          description: Máximo de registros a regresar
        - in: query
          name: pagina
          schema:
            type: integer
          description: Para realizar búsquedas filtrando por un rango de fechas
        - in: query
          name: ordenar_por
          schema:
            type: string
            enum:
              - creacion
              - estatus
              - metodo_pago
              - metodo_pago_token
          description: Valor que será usado como referencia en la búsqueda
        - in: query
          name: orden
          schema:
            type: string
            enum:
              - asc
              - desc
          description: Podrá ser de orden Ascendente (asc) o Descendente (desc)
      responses:
        '200':
          description: Listado de objetos tipo Recarga
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    description: Estatus de la petición
                    enum:
                      - success
                      - fail
                      - error
                  http_code:
                    type: integer
                    description: Código http de respuesta en el header
                    enum:
                      - 200
                      - 400
                      - 401
                      - 404
                      - 500
                  datetime:
                    type: string
                    format: date-time
                    description: Fecha y hora de creación.
                  timestamp:
                    type: integer
                    description: Tiempo Unix o POSIX
                  data:
                    type: object
                    properties:
                      recargas:
                        type: object
                        properties:
                          data:
                            type: array
                            items:
                              $ref: '#/components/schemas/Recarga'
                          desde:
                            type: integer
                            description: Índice de inicio
                          hasta:
                            type: integer
                            description: Índice de fin
                          registros_por_pagina:
                            type: integer
                            description: Número de registros por página
                            minimum: 5
                            maximum: 100
                            default: 25
                          pagina_actual:
                            type: integer
                            description: Página actual de registros
                            minimum: 1
                          ultima_pagina:
                            type: integer
                            description: Número de última página
                            minimum: 1
                          total_pagina:
                            type: integer
                            description: Total de registros en la página actual
                            minimum: 0
                          total:
                            type: integer
                            description: Total de registros
                            minimum: 0
        '400':
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '401':
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: No se ha encontrado el recurso solicitado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        4XX:
          description: Error en petición
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        5XX:
          description: Error interno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

components:
  schemas:
    PlanPagos:
      description: Objeto Plan de Pagos
      type: object
      properties:
        plan:
          type: string
          description: Clave del plan a aplicar de Catálgo Tipo de Plan de Pago
          enum:
            - normal
            - msi
            - mci
            - diferido
            - diferido_msi
            - diferido_mci
          example: msi
        puntos:
          type: number
          minimum: 0
          description: Cantidad de puntos a utilizar para el pago de la transacción
          readOnly: true
          example: 500
        parcialidades:
          type: integer
          minimum: 0
          maximum: 24
          enum:
            - 3
            - 6
            - 9
            - 12
            - 15
            - 18
            - 24
          description: Número de parcialidades a dividir el pago si aplica
          example: 6
        diferido:
          type: integer
          description: Número de meses de diferimiento para iniciar el/los pago/s
          example: 0
        redime_puntos:
          type: boolean
          default: false
          description: Redimir puntos en compra con tarjetas participantes (consultar antes de enviar)
    Pedido:
      description: Objeto Pedido
      type: object
      properties:
        id_externo:
          type: string
          description: Identificador de orden del comercio
          minLength: 5
          maxLength: 48
        creacion:
          type: string
          description: Fecha de creación del objeto
          format: date-time
        direccion_envio:
          $ref: '#/components/schemas/DireccionEnvio'
        peso:
          type: number
          minimum: 0
          description: Peso total del pedido (en Kg.)
        articulos:
          type: array
          description: Arreglo de Objetos Articulo
          items:
            $ref: '#/components/schemas/Articulo'
        total_articulos:
          type: integer
          description: Total de artículos en pedido
          minimum: 0
        fecha_creacion:
          type: string
          description: Fecha de levantamiento de pedido en el Comercio
          format: date-time
        fecha_entrega:
          type: string
          format: date-time
          description: Fecha estimada de entrega
        empresa_envio:
          type: string
          enum:
            - noventamin
            - correosmex
            - dhl
            - estafeta
            - fedex
            - aeroflash
            - paquetexpress
            - redpack
            - senda
            - ups
            - propia
            - otro
        numero_guia:
          type: string
          description: Número de guía de pedido
          maxLength: 250
        es_regalo:
          type: boolean
          description: Indicará si el pedido es considerado un regalo
        monto_articulos:
          type: number
          description: Monto total con impuestos del costo de articulos
          minimum: 0
        monto_envio:
          type: number
          description: Monto total sin impuestos del envío
          minimum: 0
        total_monto:
          type: number
          description: Monto total con impuestos del pedido
          minimum: 0
        device_fingerprint:
          description: Id de dispositivo de cliente
          type: string
        ip_cliente:
          description: Ip del *cliente o comprador*
          type: string
          format: ipv4
        datos_comercio:
          $ref: '#/components/schemas/CampoPersonalizado'
    CampoPersonalizado:
      type: object
      properties:
        key:
          type: string
          description: Key de campo personalizado
          format: number
          minimum: 1
          maximum: 99
        value:
          description: Valor de campo personalizado
          minLength: 1
          maxLength: 250
          type: string
      example:
        "1": "test string"
        "2": "another string"
    Direccion:
      type: object
      properties:
        creacion:
          description: Fecha de creación del objeto
          type: string
          format: date-time
          readOnly: true
        linea1:
          description: Línea de dirección 1
          type: string
          maxLength: 120
        linea2:
          description: Línea de dirección 2
          type: string
          maxLength: 120
        linea3:
          description: Línea de dirección 3
          type: string
          maxLength: 120
        cp:
          description: Código postal
          type: string
          minLength: 3
          maxLength: 10
        telefono:
          $ref: '#/components/schemas/Telefono'
        municipio:
          description: Municipio o delegación
          type: string
          maxLength: 60
        ciudad:
          description: Ciudad
          type: string
          minLength: 0
          maxLength: 60
        estado:
          description: >-
            Identificador de estado de tres caracteres de acuerdo al estándar
            ISO 3166-2
          minLength: 3
          maxLength: 3
          type: string
        pais:
          description: >-
            Identificador de país de tres caracteres de acuerdo al estándar ISO
            3166-1
          type: string
          minLength: 3
          maxLength: 3
        referencia_1:
          description: 'Referencia adicional, ejemplo: nombre de entre calle 1'
          type: string
          maxLength: 120
        referencia_2:
          description: 'Referencia adicional, ejemplo: nombre de entre calle 2'
          type: string
          maxLength: 120
        longitud:
          description: Coordenadas de longitud de localización del domicilio
          type: number
          minimum: -90
          maximum: 90
        latitud:
          description: Coordenadas de latitud de localización del domicilio
          type: number
          minimum: -90
          maximum: 90
    DireccionEnvio:
      allOf:     # Todos los datos de cliente más datos de persona a la que se realizará envío
        - $ref: '#/components/schemas/Direccion'
        - type: object
          properties:
            nombre:
              description: Nombre o nombres del cliente
              type: string
            apellido_paterno:
              description: Apellido paterno del cliente
              type: string
            apellido_materno:
              description: Apellido materno del cliente
              type: string
    Cliente:
      type: object
      required:
        - email
      properties:
        id:
          description: Identificador único de cliente
          type: string
          example: 176f76a82670428898001dd5f031a57e
          readOnly: true
          maxLength: 64
        creacion:
          description: Fecha de creación del objeto
          type: string
          format: date-time
          readOnly: true
        actualizacion:
          description: Fecha de última edición
          type: string
          format: date-time
          readOnly: true
        id_externo:
          description: Identificador único de cliente en plataforma del comercio
          type: string
          minLength: 1
          maxLength: 64
        creacion_externa:
          description: Fecha y hora de creación del usuario en el comercio
          type: string
          format: date-time
        nombre:
          description: Nombre o nombres del cliente
          type: string
          minLength: 3
          maxLength: 30
        apellido_paterno:
          description: Apellido paterno del cliente
          type: string
          minLength: 3
          maxLength: 30
        apellido_materno:
          description: Apellido materno del cliente
          type: string
          minLength: 3
          maxLength: 30
        sexo:
          description: Sexo del cliente
          type: string
          enum:
            - masculino
            - femenino
        email:
          description: Correo electrónico del cliente
          type: string
          format: email
          example: usuario@t1pagos.com
          maxLength: 250
        telefono:
          $ref: '#/components/schemas/Telefono'
        nacimiento:
          type: string
          format: date-time
          description: Fecha de nacimiento
        direccion:
          $ref: '#/components/schemas/Direccion'
        estado:
          description: Estado del Cliente
          type: string
          enum:
            - activo
            - inactivo
            - suspendido
    Procesador:
      type: object
      properties:
        adquiriente:
           type: string
           readOnly: true
           example: eglobal/prosa/amex
        codigo:
          type: string
          readOnly: true
          example: "00"
        mensaje:
          type: string
          readOnly: true
          example: aprobada

    ClienteConSuscripcion:
      allOf:     # Todos los datos de cliente más arreglo de suscripciones
        - $ref: '#/components/schemas/Cliente'
        - type: object
          properties:
            suscripciones:
              readOnly: true
              description: Arreglo de objetos tipo Suscripción, sólo suscripciones activas
              type: array
              items:
                $ref: '#/components/schemas/Suscripcion'
    Plan:
      description: Objeto Plan de Suscripción
      type: object
      properties:
        id:
          description: Id de Plan
          type: string
          readOnly: true
        id_externo:
          description: Identificador único de Plan en plataforma del comercio
          type: string
        creacion:
          description: Fecha de creación del objeto
          type: string
          format: date-time
          readOnly: true
        actualizacion:
          description: Fecha de última edición
          type: string
          format: date-time
          readOnly: true
        nombre:
          type: string
          description: Nombre de Plan
        monto:
          type: number
          example: 129.99
          description: Monto que será cobrado en la suscripción
        monto_variable:
          description: Determina si podrán crearse suscripciones con montos variables
          type: boolean
          default: false
        monto_minimo:
          type: number
          description: Monto máximo para suscripcioones con monto variable
        monto_maximo:
          type: number
          description: Monto mínimo para suscripcioones con monto variable
        moneda:
          type: string
          minLength: 3
          maxLength: 3
          description: Identificador de moneda de tres caracteres de acuerdo al estándar ISO
            4217
          example: MXN
        pais:
          type: string
          minLength: 3
          maxLength: 3
          default: "MEX"
          description: >-
            Identificador de país de tres caracteres
          example: MEX
        frecuencia:
          type: integer
          minimum: 1
          description: >-
            Determina cuantas veces debe repetirse el tipo de periodo para que
            se realice el siguiente cobro
        tipo_periodo:
          description: 'Puede ser "dia", "semana", "mes", o "anio"'
          type: string
          enum:
            - dia
            - semana
            - mes
            - anio
        max_reintentos:
          type: integer
          minimum: 0
          maximum: 10
          description: >-
            Máximo de reintentos (uno por día) que serán realizados antes de
            cancelar una suscripción, en el caso por defecto se realizarán 3
            reintentos, será posible realizar un máximo de 10 reintentos
        estado:
          type: string
          description: Estado del plan ('activo' / 'inactivo')
          enum:
            - activo
            - inactivo
          readOnly: true
        puede_suscribir:
          type: boolean
          description: Determina si podrán crearse nuevas suscripciones en un plan
        prueba_frecuencia:
          type: integer
          minimum: 1
          description: >-
            Determina cuantas veces debe repetirse el tipo de periodo para que
            se designe el día de primer cobro (al término del periodo de prueba)
        prueba_tipo_periodo:
          description: 'Puede ser "dia", "semana", "mes", o "anio"'
          type: string
          enum:
            - dia
            - semana
            - mes
            - anio
        puede_duplicar:
          description: Determina si podrán crearse múltiples suscripciones a un mismo plan por un mismo cliente
          type: boolean
          default: false
        max_suscripcion_usuario:
          description: Determina el número máximo de suscripciones, por usuario, a un mismo plan cuándo la bandera `puede_duplicar` está activa
          type: integer
          default: 1
    Suscripcion:
      description: Objeto Suscripción
      type: object
      properties:
        id:
          type: string
          description: Id de suscripción
          readOnly: true
        creacion:
          description: Fecha de creación de suscripción
          type: string
          format: date-time
          readOnly: true
        actualizacion:
          description: Fecha de última edición
          type: string
          format: date-time
          readOnly: true
        plan_id:
          type: string
          description: Id del plan al que será suscrito el usuario
        cliente_id:
          type: string
          description: >-
            Id de cliente (Objeto Cliente->id) en plataforma T1pagos que
            será suscrito
        metodo_pago:
          type: string
          description: >-
            Define el tipo de pago que será usado en la suscripción, en cargos con tarjeta bancaria deberá ser ('tarjeta')
          enum:
            - tarjeta
        metodo_pago_token:
          type: string
          description: >-
            Valor del token/id de método de pago seleccionado
        estado:
          type: string
          description: >-
            Estado de la suscripción (prueba, activa, pendiente, suspendida,
            cancelada) de acuerdo al catálogo de estados de una suscripción"
          enum:
            - prueba
            - activa
            - pendiente
            - suspendida
            - cancelada
        monto:
          type: number
          example: 129.99
          description: Monto que será cobrado en la suscripción, sólo disponible en planes que permitan el uso de montos variables
        inicio:
          type: string
          description: >-
            SÓLO PARA MIGRACIONES, designará cuando se realizó la suscripción
            del usuario en la plataforma, a partir de esa fecha se realizará el
            cálculo de las fechas de renovación
          format: date
        fin:
          type: string
          description: >-
            Fecha de cancelación de suscripción
          format: date
          readOnly: true
        prueba_inicio:
          type: string
          description: Fecha de inicio de periodo de prueba
          format: date
          readOnly: true
        prueba_fin:
          type: string
          description: Fecha de término de periodo de prueba
          format: date
          readOnly: true
        periodo_fecha_inicio:
          type: string
          description: Fecha del primer día de periodo suscrito
          format: date
          readOnly: true
        periodo_fecha_fin:
          type: string
          description: Fecha del último día de periodo suscrito
          format: date
          readOnly: true
        fecha_proximo_cargo:
          type: string
          description: Fecha de próximo cargo del plan
          format: date
          readOnly: true
        plan:
          $ref: '#/components/schemas/Plan'
        cliente:
          $ref: '#/components/schemas/Cliente'
    Telefono:
      type: object
      properties:
        tipo:
          description: De acuerdo al catálogo tipo teléfono
          type: string
          enum:
            - no_definido
            - movil
            - casa
            - oficina
            - facturacion
            - mensajeria
            - temporal
        codigo_pais:
          description: Codigo telefónico de un país
          type: string
        codigo_area:
          description: Codigo telefónico de área
          type: string
        prefijo:
          description: 'Valor opcional, prefijo utilizado por algunos países'
          type: string
        numero:
          description: Teléfono del cliente
          type: string
          format: number
          example: "5566778899"
        extension:
          description: Extensión
          type: number
    Tarjeta:
      description: Objeto tipo Tarjeta
      type: object
      properties:
        token:
          description: Token de Tarjeta
          type: string
          readOnly: true
        pan:
          description: Número de tarjeta sanitizado
          type: string
          format: string
          example: "411111******1111"
          minLength: 14
          maxLength: 19
        terminacion:
          description: Terminación o últimos cuatro dígitos
          type: number
          readOnly: true
        nombre:
          description: Nombre como aparece en la tarjeta
          type: string
        cvv2:
          description: 'Código de seguridad de la tarjeta CVV2, CVC'
          type: string
          format: number
          example: "123"
          writeOnly: true
          minLength: 3
          maxLength: 4
        expiracion_mes:
          description: Mes de expiración de tarjeta
          type: integer
          minimum: 1
          maximum: 12
          multipleOf: 1
        expiracion_anio:
          description: Año de expiración de tarjeta
          type: integer
        direccion:
          $ref: '#/components/schemas/Direccion'
        iin:
          description: 'Primeros seis dígitos de una tarjeta, equivale a BIN'
          type: number
          readOnly: true
        marca:
          description: De acuerdo al catálogo Marca de Tarjeta
          type: string
          readOnly: true
          enum:
            - visa
            - mastercard
            - discover
            - amex
            - diners_club
            - jcb
            - switch
            - solo
            - dankort
            - maestro
            - forbrugsforeningen
            - laser
        cliente_id:
          type: string
          description: Id de cliente en plataforma T1pagos
        default:
          description: >-
            Determina si la tarjeta es la utilizada por dafault para el cliente
            asignado
          type: boolean
        cargo_unico:
          description: Determina si la tarjeta sólo se puede utilizar para un único cargo
          type: boolean
        creacion:
          type: string
          format: date-time
          readOnly: true
        actualizacion:
          type: string
          format: date-time
          readOnly: true
    CuentaSpei:
      type: object
      properties:
        id:
          description: Identificador único de cliente
          type: string
          format: uuid
          readOnly: true
        creacion:
          description: Fecha de creación del objeto
          type: string
          format: date-time
          readOnly: true
        updated_at:
          description: Fecha de última edición
          type: string
          format: date-time
          readOnly: true
        recurso_uuid:
          description: Identificador único de cliente
          type: string
          format: uuid
          readOnly: true
        tipo_recurso:
          description: clasificación del recurso
          type: string
          enum:
            - cliente
        moneda:
          type: string
          minLength: 3
          maxLength: 3
          description: >-
            Identificador de moneda de tres caracteres de acuerdo al estándar ISO
            4217
          example: MXN
        receptor:
          type: string
          format: numeric
          example: "646"
        plaza:
          type: string
          example: '180'
        prefijo:
          type: string
          example: '1234'
        centro_de_costos:
          type: string
          example: '0000002'
        digito_verificador:
          type: string
          example: '3'
        cuenta:
          type: string
          example: '646180123400000023'
        monto_minimo:
          type: number
          example: 1
        monto_maximo:
          type: number
          example: 1000
        dias_expiracion:
          type: integer
          example: 0
        antifraude:
          type: integer
          example: 0
        pais:
          description: País la transacción de acuerdo al estándar ISO 3166-1 Alpha-3, con tres letras para representar el país.
          type: string
          minLength: 3
          maxLength: 3
          example: "MEX"
    ReferenciaTienda:
      description: Objeto tipo Referencia de Pago en Tienda
      type: object
      properties:
        estatus:
          description: Estatus de la referencia de pago
          type: string
          enum:
          - pendiente
          - completado
          - expirada
          - extemporaneo
        monto:
          description: Monto que fue pagado, debe de coincidir con el monto de la referencia
          type: number
          minimum: 1.00
          maximum: 999999999999999.99
          example: "100.00"
        moneda:
          type: string
          minLength: 3
          maxLength: 3
          description: Identificador de moneda de tres caracteres de acuerdo al estándar ISO 4217
          default: MXN
          example: MXN
        expirada:
          description: >-
            Determina si la referencia ha expirado
          type: number
          default: 0
          readOnly: true
        expiracion:
          type: string
          format: date
          readOnly: true
        formato:
          type: string
          enum:
            - "sears-sanborns"
          example: "sears-sanborns"
          readOnly: true
        metodo_pago:
          description: Determina las formas de pago que pueden utilizarse
          type: array
          items:
            type: string
          example:
          - "efectivo"
          - "tarjeta"
          - "tarjeta-departamental"
        #abonos:
        #  type: array
        #  description: Pagos realizados a referencia
        #  items:
        #    $ref: '#/components/schemas/AbonoReferencia'
        creacion:
          type: string
          format: date-time
          readOnly: true
        actualizacion:
          type: string
          format: date-time
          readOnly: true
    AbonoReferencia:
      description: Objeto tipo Referencia de Pago en Tienda
      type: object
      properties:
        monto:
          description: Monto que fue pagado, debe de coincidir con el monto de la referencia
          type: number
          minimum: 1.00
          maximum: 999999999999999.99
          example: "100.00"
        moneda:
          type: string
          minLength: 3
          maxLength: 3
          description: Identificador de moneda de tres caracteres de acuerdo al estándar ISO 4217
          default: MXN
          example: MXN
        pago_id:
          type: string
          minLength: 1
          maxLength: 40
          description: Identificador único de pago
        fecha:
          type: string
          description: Fecha de creación del objeto
          format: date-time
        forma_pago:
          description: Indica el método con los que se realizó el pago
          type: string
          enum:
            - "efectivo"
            - "tarjeta"
            - "tarjeta-departamental"
        sucursal_id:
          type: string
          minLength: 1
          maxLength: 40
          description: Identificador de sucursal de pago
        nombre_sucursal:
          type: string
          minLength: 1
          maxLength: 100
          description: Nombre de sucursal donde se realizó el pago
    TransaccionConciliacion:
      type: object
      properties:
        monto:
          type: string
          example: '821.77'
        comercio_uuid:
          type: string
          format: uuid
        procesador:
          type: string
          example: "prueba"
        afiliacion:
          type: string
          format: uuid
        autorizacion_id:
          type: string
          example: "536899"
        cargo_id:
          type: string
          format: uuid
        conciliado:
          type: boolean
        fecha_creacion:
          type: string
          format: date-time
        order_id:
          type: string
          format: uuid
        tipo_operacion:
          type: string
          format: uuid
    Error:
      description: Objeto Error
      type: object
      properties:
        status:
          type: string
          description: Estatus de la petición
          enum:
            - error
            - fail
        error:
          type: object
          properties:
            code:
              type: integer
            type:
              type: string
            message:
              type: string
        http_code:
          type: integer
          description: Código http de respuesta en el header
          readOnly: true
        datetime:
          type: string
          format: date-time
          description: Fecha y hora de creación.
        timestamp:
          type: integer
          description: Tiempo Unix o POSIX
        data:
          description: Datos del error obtenido, sólo estará presente en errores HTTP 400
          type: object
    Articulo:
      description: Objeto Artículo
      type: object
      properties:
        id_pedido:
          description: Identificador de orden del comercio
          type: string
        nombre_producto:
          description: Nombre de producto
          type: string
        descripcion_producto:
          description: Descripción del producto
          type: string
        sku:
          description: >-
            Id único de producto en el comercio, código interno (SKU: stock
            keeping unit)
          type: string
        ean_upc:
          description: >-
            Id de producto de acuerdo a códigos internacionales (UPC: universal
            product code, EAN: European article number, GS1/GTIN, otros)
          type: string
        tipo_producto:
          description: De acuerdo a referencia de Catálogo Tipo de Producto
          type: string
          enum:
            - digital
            - servicio
            - electronico
            - software
            - suscripcion
            - cupon
            - tarjeta_regalo
            - moda
            - otro
        cantidad:
          description: Número de piezas del mismo producto
          type: integer
        precio_unitario:
          description: Precio unitario del producto
          type: number
        precio_total:
          description: Precio total incluyendo todas las piezas
          type: number
        otros:
          description: >-
            Campo para detalles adicionales del producto disponible para el
            comercio, máximo 255 caracteres
          type: string
          maxLength: 255
        es_digital:
          description: >-
            Indica si el producto es digital y su entrega puede ser inmediata
            (descarga / envío de código / etc…)
          type: boolean
    Notificacion:
      description: Objeto Notificación
      type: object
      readOnly: true
      properties:
        id:
          type: string
          description: Id de evento
        tipo:
          type: string
          description: Parámetro estático "evento"
        creacion:
          description: Fecha de creación de suscripción
          type: string
          format: date-time
        recepcion:
          type: string
          format: date-time
          description: Fecha en que fue recibida la notificación
        datos:
          type: string
          format: json
          description: JSON con parámetros del evento
    Evento:
      type: object
      properties:
        id:
          description: Identificador único de Evento
          type: string
          readOnly: true
        creacion:
          description: Fecha de creación del Evento
          type: string
          format: date-time
          readOnly: true
        prueba:
          description: Indica si el evento es de prueba
          type: boolean
        estatus:
          description: Estado del evento
          type: string
          enum:
            - pendiente
            - entregado
            - fallido
        fecha_entrega:
          description: >-
            Fecha de entrega de notificación en formato ISO-8601
          type: string
          format: date-time
          readOnly: true
          nullable: true
        codigo_http:
          description: >-
            Código HTTP recibido al realizar el último intento de entrega de notificación
          type: integer
          nullable: true
          readOnly: true
        mensaje_http:
          description: >-
            Mensaje recibido al realizar el último intento de entrega de notificación
          type: string
          nullable: true
          readOnly: true
        total_intentos:
          description: Número total de intentos de envío de notificación
          type: integer
        tipo_evento:
          description: Id de Tipo de Evento
          type: string
        data:
          description: Contendrá el contenido de la notificación
          type: object
    transaccion-conciliacion:
      description: Objeto Transacción Conciliación
      type: object
      properties:
        monto:
          type: string
          example: "21.00"
        cargo_id:
          type: string
        conciliado:
          type: boolean
        procesador:
          type: string
        afiliacion:
          type: string
        autorizacion_id:
          type: string
          example: "1234567"
        fecha_conciliacion:
          type: string
          example: "2020-02-02"
        fecha_creacion:
          type: string
          format: date-time
        order_id:
          description: "Id de pedido proporcionado por comercio"
          type: string
          example: "pedido_123456"
        tipo_operacion:
          type: string
    Evaluacion:
      type: object
      properties:
        id:
          type: string
          description: Identificador de la transacción
        orden_id:
          description: Identificador del orden del comercio
          type: string
        estatus:
          description: Reusltado de la evaluacion
          type: string
          enum:
            - "aprobada-antifraude"
            - "revisar-antifraude"
            - "rechazada-antifraude"
        decision:
          description: Decision de la evaluacion
          type: string
          enum:
            - aceptar
            - revisar
            - rechazar
            - sin_resultados
            - sin_respuesta
            - error_en_peticion
        procesador:
          description: Procesador que tomo la decision de la evaluacion
          type: string
          enum:
            - cybersource
            - claroscore
        descripcion:
          description: Descripción del resultado de la evaluacion.
          type: string
        score:
          description: Calificacion final de la evaluación.
          type: integer
        codigo:
          description: Código de respuesta procesador antifraude.
          type: integer
        profile:
          description: Perfil asiganado a la evaluación.
          type: string
    EvaluacionExtendida:
      allOf:
        - $ref: '#/components/schemas/Evaluacion'
        - type: object
          properties:
            resultados:
              type: array
              description: Arreglo de Objetos resultado
              items:
                description: Objeto resultado, muestra los resultados obtenidos en cada procesador
                type: object
                properties:
                  score:
                    description: Calificacion final de la evaluación.
                    type: integer
                  codigo:
                    description: Código de respuesta procesador antifraude.
                    type: integer
                  profile:
                    description: Perfil asiganado a la evaluación.
                    type: string
                  resultado:
                    description: Resultado de la evaluacion
                    type: string
                    enum:
                      - verde
                      - amarillo
                      - rojo
                      - azul
                      - negro
                  monitor:
                    type: boolean
                    description: Evaluación en modo monitor
                    default: false
                  procesador:
                    description: Procesador que ejecuto la evaluacion
                    type: string
                    enum:
                      - cybersource
                      - claroscore
    Riesgo:
      type: object
      properties:
        score:
          type: integer
          description: Valor numérico de la evaluación de riesgo obtenida
        decision:
          type: string
          description: description
          enum:
            - aceptar
            - rechazar
            - revisar
            - sin_resultado
            - sin_respuesta
            - error_en_peticion
        procesador:
          type: string
          description: Procesador antifraude que tomó la decisión en la transacción
    Recarga:
      description: Objeto Recarga
      type: object
      properties:
        id:
          type: string
          description: Id de la recarga.
          readOnly: true
        cliente_id:
          type: string
          description: >-
            Id de cliente (Objeto Cliente->id) en plataforma T1pagos.
        numero_autorizacion_pago:
          type: string
          description: >-
            Identificador de autorización del procesador de pago
        numero_autorizacion_recarga:
          type: string
          description: >-
            Identificador de autorización del procesador de recargas
        estatus:
          type: string
          description: >-
            Estado de la recarga ('pendiente', 'rechazada', 'aprobada', 'fallida')
          enum:
            - 'pendiente'
            - 'rechazada'
            - 'aprobada'
            - 'fallida'
          example: 'aprobada'
        monto:
          type: number
          example: 129.99
          description: Monto de la recarga.
        telefono:
          $ref: '#/components/schemas/Telefono'
        metodo_pago:
          type: string
          description: >-
            Define el tipo de pago de la recarga.
          enum:
            - tarjeta
        metodo_pago_token:
          type: string
          description: >-
            Valor del token/id de método de pago seleccionado
        tipo:
          type: string
          description: >-
            Define el tipo de recarga.
          enum:
            - paquete
            - tiempo_aire
        tipo_paquete:
          type: string
          description: >-
            Define el tipo de paquete, este paramétro es válido cuando el tipo de recarga es paquete.
          example: "DS750"
        creacion:
          description: Fecha de creación.
          type: string
          format: date-time
          readOnly: true
        actualizacion:
          description: Fecha de última edición.
          type: string
          format: date-time
          readOnly: true
    Deposito:
      description: Objeto Deposito
      type: object
      properties:
        id:
          type: string
          description: Id de deposito
          readOnly: true
        estado:
          type: string
          description: >-
            Estado del deposito.
          enum:
            - completado
            - pendiente
            - expirada
        monto:
          type: number
          example: 129.99
          description: Monto que será cobrado.
        metodo_pago:
          type: string
          description: >-
            Define el tipo de pago que será usado.
          enum:
            - transferencia
        creacion:
          description: Fecha de creación.
          type: string
          format: date-time
          readOnly: true
        actualizacion:
          description: Fecha de última edición.
          type: string
          format: date-time
          readOnly: true

    ErrorPago:
      type: object
      properties:
        status:
          type: string
          example: 'error'
        code:
          type: string
          example: 'ERR123'
        message:
          type: string
    ErrorCaptura:
      type: object
      properties:
        paymentId:
          type: string
        settleId:
          type: string
          example: null
        value:
          type: number
          format: float
          example: 0
        code:
          type: string
          example: 'ERR404'
        message:
          type: string
          example: 'Transaccion no encotrada'
        requestId:
          type: string
  responses:
    UnauthorizedError:
      description: Token de acceso faltante o inválido
    ErrorPago:
      description: Error en pago
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorPago'
    ErrorCaptura:
      description: Error en captura
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorCaptura'
    ErrorPeticion:
      description: Error en petición
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    ErrorAutenticacion:
      description: No autorizado
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    ErrorNoEncontrado:
      description: No se ha encontrado el recurso solicitado
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    ErrorInterno:
      description: Error interno
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
security:
  - bearerAuth: []
